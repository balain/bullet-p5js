<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=400, initial-scale=1.0">
  <title>P5.js Bullet Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>
</head>
<body>
<script>
  /* Create bullet chart in a single run - no looping
   * TODO:
   * - Get parameters/ranges via query parameters
   * - Add label(s)
   * - Review Few's spec: http://www.perceptualedge.com/articles/misc/Bullet_Graph_Design_Spec.pdf
   */
  function setup() {
    const x = 0
    const y = 0
    const w = 200
    const h = 20

    const bh = 5
    const bx = x
    const by = y + (h/2) - (bh/2)
    const bw = 150

    const cx = 180
    const cw = 3
    const cy = y + h/6
    const ch = 4 * h/6

    const canvasW = 200
    const canvasH = 20
    let c = createCanvas(canvasW, canvasH)
    /* Elements
    - Quantitative Scale (# of bins and max value for each)
    - Symbol marker (w/ location)
    - Bar (w/ min and max)
    - Text Label
    */
    // Boxes
    noStroke()
    fill(0, 10)
    rect(x, y, w, h)
    fill(0, 25)
    rect(x, y, w - (2*w/3), h)
    fill(0, 50)
    rect(x, y, w - w/3, h)
    // Bar
    fill(0)
    rect(bx, by, bw, bh)
    // Cross
    rect(cx, cy, cw, ch)
    noLoop()
    // saveCanvas(c, 'bullet', 'png') // Uncomment to download PNG output every time
  }

</script>
</body>
</html>